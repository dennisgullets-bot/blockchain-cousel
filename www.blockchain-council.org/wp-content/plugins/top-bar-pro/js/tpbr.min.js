! function(t) {
    t(document).ready(function() {
        function e(t) {
            for (var e = t + "=", i = decodeURIComponent(document.cookie).split(";"), o = 0; o < i.length; o++) {
                for (var n = i[o];
                    " " == n.charAt(0);) n = n.substring(1);
                if (0 == n.indexOf(e)) return n.substring(e.length, n.length)
            }
            return ""
        }
        var i, o = ((i = document.createElement("style")).appendChild(document.createTextNode("")), document.head.appendChild(i), i.sheet);

        function n(t, e, i, o) {
            "insertRule" in t ? t.insertRule(e + "{" + i + "}", o) : "addRule" in t && t.addRule(e, i, o)
        }
        var r = {};
        for (var s in tpbr_settings) tpbr_settings.hasOwnProperty(s) && (r[s] = tpbr_settings[s] || "");
        if (r.initial_state && !r.detect_sticky && (r.detect_sticky = 0), "inactive" == r.status) return !1;
        if ("na" != r.post_id && null !== r.excluded_ids)
            for (var d = r.excluded_ids.replace(/\s/g, "").split(","), p = 0; p < d.length; p++)
                if (d[p] == r.post_id) return !1;
        var a = r.fixed,
            l = 0,
            c = "close" == r.yn_close ? 1 : 0,
            b = "",
            f = r.color;
        if (function() {
                if ("notloggedin" == r.user_who && "guests" == r.guests_or_users) return !0;
                if ("loggedin" == r.user_who && "users" == r.guests_or_users) {
                    if (null !== r.user_role) {
                        for (var t = 0, e = r.user_role.replace(/\s/g, "").split(","), i = 0; i < e.length; i++) "1" == tpbr_settings["role_" + e[i]] && (t = 1);
                        if (0 == t) return !1
                    }
                    return !0
                }
                return "all" == r.guests_or_users
            }()) {
            var u, x, g, _, h, m;
            if (u = -12, x = parseInt(f.slice(1), 16), g = Math.round(2.55 * u), b = "#" + (16777216 + 65536 * ((_ = (x >> 16) + g) < 255 ? _ < 1 ? 0 : _ : 255) + 256 * ((h = (x >> 8 & 255) + g) < 255 ? h < 1 ? 0 : h : 255) + ((m = (255 & x) + g) < 255 ? m < 1 ? 0 : m : 255)).toString(16).slice(1), c) {
                function v(t) {
                    document.cookie = "tpbr_closer=" + t, l = t
                }
            }! function() {
                var i;
                buttonElement = (i = "newwindow" == r.button_behavior ? 'target="_blank"' : "", "button" == r.yn_button && r.button_text ? '<a id="tpbr_calltoaction" style="background: ' + b + '; display: inline-block; padding: 0px 12px 1px; color: white; text-decoration: none; margin: 1px 14px 0px; border-radius: 3px;" href="' + r.button_url + '"' + i + ">" + r.button_text + "</a>" : ""), borderStyles = "border" == r.border ? "border-bottom: 3px solid " + b + " !important;" : "", c && (e("tpbr_closer") ? l = "1" == e("tpbr_closer") ? 1 : 0 : "close" == r.initial_state ? (t(".tpbr_closing").hide(), t("#tpbr_topbar").hide(), v(1), t(".tpbr_opening").show(0)) : v(0));
                var o = c ? '<span class="tpbr_closing" style="display:inline; float:right; position:absolute; right:10px; top:0px; height:20px; width:20px; cursor:pointer; background:url(' + r.close_url + ')"></span>' : "";
                if ("fixed" == a) var n = "position:fixed; z-index:99998;",
                    s = '<div class="pushr"></div><div id="tpbr_topbar" style="position:fixed; z-index:99998; width:100%; left:0px; top:0px; background:' + f + ";" + borderStyles + '"><div id="tpbr_box" style="line-height: 2em; padding: 5px 0px 6px; background:' + f + "; margin:0 auto; text-align:center; width:100%; color:white; font-size:" + r.fontsize + 'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">' + r.message + buttonElement + o + "</div></div>",
                    d = c ? '<div style="background-color:' + f + "; " + n + '" class="tpbr_opening"></div>' : "";
                else "fixed_bottom" == a ? (n = "position:fixed; z-index:99998; bottom:0;", s = '<div id="tpbr_topbar" style="position:fixed; z-index:99998; width:100%; left:0px; bottom:0px; background:' + f + ";" + borderStyles + '"><div id="tpbr_box" style="line-height: 2em; padding: 5px 0px 6px; background:' + f + "; margin:0 auto; text-align:center; width:100%; color:white; font-size:" + r.fontsize + 'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">' + r.message + buttonElement + o + "</div></div>", d = c ? '<div style="background-color:' + f + "; " + n + '" class="tpbr_opening"></div>' : "") : (s = '<div id="tpbr_topbar" style="position:relative; z-index:99998; background:' + f + ";" + borderStyles + '"><div id="tpbr_box" style="line-height: 2em; padding: 5px 0px 6px; background:' + f + "; margin:0 auto; text-align:center; width:100%; color:white; font-size:" + r.fontsize + 'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">' + r.message + buttonElement + "</div>" + o + "</div></div>", d = c ? '<div style="position:absolute; z-index:99998; background-color:' + f + ';" class="tpbr_opening"></div>' : "");
                setTimeout(function() {
                    l ? (t(s).prependTo("body").hide(), c && t(d).prependTo("body").show()) : (t(s).prependTo("body").show(), c && t(d).prependTo("body").hide()), "fixed_bottom" == a && t(".tpbr_opening").css({
                        transform: "rotate(180deg)"
                    }), H()
                }, r.delay)
            }();
            var y, w, O, k, z = [],
                T = 0;
            t(window).on("resize", (y = H, w = 50, function() {
                var t = this,
                    e = arguments,
                    i = O && !k;
                clearTimeout(k), k = setTimeout(function() {
                    k = null, O || y.apply(t, e)
                }, w), i && y.apply(t, e)
            })), t(window).on("scroll", function(t, e, i) {
                var o;
                return function() {
                    var n = this,
                        r = arguments,
                        s = i && !o;
                    o || (o = setTimeout(function() {
                        o = null, i || t.apply(n, r)
                    }, e)), s && t.apply(n, r)
                }
            }(H, 10)), c && (t("body").on("click", ".tpbr_opening", function() {
                l = 0, v(0), t(".tpbr_opening").hide(0), t("#tpbr_topbar").show(0), t(".tpbr_closing").show(0), "fixed" == a && t(".pushr").show(0), H(), t(window).trigger("resize")
            }), t("body").on("click", ".tpbr_closing", function() {
                l = 1, v(1), t(".tpbr_closing").hide(0), t("#tpbr_topbar").hide(0), t(".tpbr_opening").show(0), "fixed" == a && t(".pushr").hide(0), H(), t(window).trigger("resize")
            }))
        }

        function H() {
            var e = t("#wpadminbar").outerHeight(),
                i = "none" == t("#tpbr_topbar").css("display") ? 0 : t("#tpbr_topbar").outerHeight(),
                s = t("#wpadminbar").css("position"),
                d = t(document).scrollTop(),
                p = 0,
                b = 0;
            "fixed" == a ? (r.is_admin_bar ? "fixed" != s ? d < e ? (t("#tpbr_topbar").css("top", e - d), p = e - d, b = e - d) : (t("#tpbr_topbar").css("top", 0), p = 0, b = 0) : (t("#tpbr_topbar").css("top", e), p = 0, b = e) : t("#tpbr_topbar").css("top", 0), c && (t(".tpbr_opening").css("top", b), t(".tpbr_closing").css("top", i / 2 - t(".tpbr_closing").outerHeight() / 2 - 2)), t(".pushr").height(i)) : "fixed_bottom" == a ? c && t(".tpbr_closing").css("top", i / 2 - t(".tpbr_closing").outerHeight() / 2) : "notfixed" == a && (p = r.is_admin_bar ? "fixed" == s ? d < i ? i - d : 0 : d < e + i ? e + i - d : 0 : d < i ? i - d : 0, t("#tpbr_topbar").css("top", 0), c && (t(".tpbr_opening").css({
                top: t("#tpbr_topbar").css("top") + t("#tpbr_topbar").css("height") + "px"
            }), t(".tpbr_closing").css("top", i / 2 - t(".tpbr_closing").outerHeight() / 2 - 2))), 1 == r.detect_sticky && function(e, i, s, d, p) {
                if (o.cssRules)
                    for (var c = 0; c < o.cssRules.length; c++) o.deleteRule(c);
                if ("fixed_bottom" == a) return;
                var b = t("body").find("div, header, nav").not("#wpadminbar");
                if (t.each(b, function(s, c) {
                        if (0 == T && z.push({
                                clean: !1,
                                el: t(c),
                                position: t(c).css("position")
                            }), "fixed" == a) {
                            if ("fixed" == t(c).css("position") && t(c).offset().top - p < 250) {
                                var b = t(c).attr("id") ? "#" + t(c).attr("id") : "." + t(c).attr("class").replace(/\s/g, "."),
                                    f = t(c).attr("class") || "-",
                                    u = 0;
                                r.is_admin_bar && ("fixed" == r.adminBarPosition ? u += parseInt(e) : u += d), l || (u += parseInt(i)), "tpbr_topbar" == t(c).attr("id") || "tpbr_box" == t(c).attr("id") || t(c).hasClass("tpbr_opening") || (-1 === b.indexOf("widget") && -1 === b.indexOf("modal") && -1 === b.indexOf("footer") && -1 === b.indexOf("popup") && -1 === b.indexOf("overlay") && -1 === b.indexOf("loader") && -1 === f.indexOf("widget") && -1 === f.indexOf("modal") && -1 === f.indexOf("footer") && -1 === f.indexOf("popup") && -1 === f.indexOf("overlay") && -1 === f.indexOf("loader") || -1 !== b.indexOf("header") || -1 !== f.indexOf("header")) && (z[s].clean = !0, t(b).attr("style", "position:fixed; top: " + u + "px !important;"), n(o, b, "top: " + u + "px !important;"))
                            }
                        } else "fixed" == t(c).css("position") && t(c).offset().top - p < 250 && (b = t(c).attr("id") ? "#" + t(c).attr("id") : "." + t(c).attr("class").replace(/\s/g, "."), f = t(c).attr("class") || "-", u = 0, r.is_admin_bar && "fixed" == r.adminBarPosition && (u += parseInt(e)), l && "fixed" == r.adminBarPosition || (u += d), "tpbr_topbar" == t(c).attr("id") || "tpbr_box" == t(c).attr("id") || t(c).hasClass("tpbr_opening") || (-1 === b.indexOf("widget") && -1 === b.indexOf("modal") && -1 === b.indexOf("footer") && -1 === b.indexOf("popup") && -1 === b.indexOf("overlay") && -1 === b.indexOf("loader") && -1 === f.indexOf("widget") && -1 === f.indexOf("modal") && -1 === f.indexOf("footer") && -1 === f.indexOf("popup") && -1 === f.indexOf("overlay") && -1 === f.indexOf("loader") || -1 !== b.indexOf("header") || -1 !== f.indexOf("header")) && (z[s].clean = !0, t(b).attr("style", "position:fixed; top: " + u + "px !important;"), n(o, b, "top: " + u + "px !important;")))
                    }), z.length > 0)
                    for (var f = 0; f < z.length; f++) {
                        var u = z[f].el.clone();
                        u.removeAttr("style"), "fixed" != u.css("position") && !0 === z[f].clean && (z[f].el.removeAttr("style"), z[f].clean = !1)
                    }
                T = 1
            }(e, i, 0, p, d)
        }
    })
}(jQuery);